{"version":3,"sources":["api.ts","components/ColorFilter/ColorFilter.tsx","default-class-names.js","components/RangeFilter/RangeFilter.tsx","components/TextFilter/TextFilter.tsx","components/FilterTypes/FilterTypes.tsx","components/FacetBlock/FacetBlock.tsx","components/Filters/Filters.tsx","components/ProductList/ProductsList.tsx","components/Breadcrumbs/Breadcrumbs.tsx","App.tsx","index.js"],"names":["request","url","a","fetch","res","ok","Error","json","ColorFilter","facet","value","selectedFilters","onColorSelect","colorCodes","getColor","color","colorCode","find","name","id","backgroundImage","code","backgroundSize","backgroundColor","border","type","className","style","classNames","onClick","count","defaultClassNames","activeTrack","disabledInputRange","inputRange","labelContainer","maxLabel","minLabel","slider","sliderContainer","track","valueLabel","RangeFilter","onPriceSelect","values","useState","min","max","rangeValue","setRangeValue","formatLabel","minValue","split","maxValue","onChange","TextFilter","onMaterialSelect","FilterTypes","FacetBlock","limitedItems","slice","itemsToRender","setItemsToRender","showMoreFilters","setShowMoreFilters","showAllFilters","setShowAllFilters","hidden","setHidden","isExpanded","setIsExpanded","map","Filters","facets","setColorCodes","useEffect","then","loadedColors","ProductsList","items","getDiscount","oldPrice","newPrice","discount","Math","round","item","href","product_url","target","rel","src","image_url","alt","compare_at","price","title","Breadcrumbs","onPriceDelete","selectedPrice","length","filter","App","setItems","setFacets","setSelectedFilters","setSelectedPrice","loadedItems","material","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.f7043976.chunk.js","sourcesContent":["import React from \"react\";\n\nexport const BASE_URL = 'https://findify-assets.s3.amazonaws.com/test-task';\n\nexport const request = async (url: string) => {\n  const res = await fetch(`${BASE_URL}${url}`);\n  if (!res.ok) {\n    throw new Error(\"Couldn't load data\");\n  }\n  return await res.json();\n};\n\nexport const getData = () => {\n  return request('/test_response.json');\n};\n\nexport const getColorCodes = () => {\n  return request('/test_color_mapping.json');\n};","import classNames from \"classnames\";\nimport React from \"react\";\nimport { Color, ColorStyle, Facet, ImageStyle, selectedFacet, Value } from \"../../types\";\n\ninterface Props {\n  facet: Facet;\n  value: Value;\n  selectedFilters: selectedFacet[];\n  onColorSelect: (color: ColorStyle | ImageStyle) => void;\n  colorCodes: Color[];\n}\n\nexport const ColorFilter: React.FC<Props> = ({ facet, value, selectedFilters, onColorSelect, colorCodes }) => {\n  const getColor = (color: string): ColorStyle | ImageStyle => {\n    const colorCode = colorCodes.find(colorCode => color === colorCode.name) as Color;\n\n    if (color === \"Multicolor\") {\n      return {\n        id: color, backgroundImage: `url(${colorCode.code})`,\n        backgroundSize: \"cover\"\n      };\n    }\n    if (color === \"White\") {\n      return {\n        id: color, backgroundColor: colorCode.code,\n        border: \"1px solid grey\"\n      };\n    }\n    return { id: color, backgroundColor: colorCode.code };\n  }\n\n  return (\n    <>\n      {facet.type === \"color\" &&\n        <div className=\"facet__option\" key={value.value}>\n          <label className=\"facet__option-wrapper\">\n            <button\n              style={getColor(value.value)}\n              className={classNames(\"facet__color\",\n                {\n                  'facet__color--selected-color': selectedFilters.find(facet => {\n                    return typeof facet.value !== 'string'\n                      ? (facet.value).id === getColor(value.value).id\n                      : null;\n                  })\n                }\n              )}\n              onClick={() => onColorSelect(getColor(value.value))}\n            >\n            </button>\n            <div className=\"facet__value\">{value.value}</div>\n          </label>\n          <div className=\"facet__count\">({value.count})</div>\n        </div>\n      }\n    </>\n  )\n}\n\n","const defaultClassNames = {\n  activeTrack: 'input-range__track input-range__track--active',\n  disabledInputRange: 'input-range input-range--disabled',\n  inputRange: 'input-range',\n  labelContainer: 'input-range__label-container',\n  maxLabel: 'input-range__label input-range__label--max',\n  minLabel: 'input-range__label input-range__label--min',\n  slider: 'input-range__slider',\n  sliderContainer: 'input-range__slider-container',\n  track: 'input-range__track input-range__track--background',\n  valueLabel: 'input-range__label input-range__label--value',\n};\n\nexport default defaultClassNames;","import React, { useState } from \"react\";\nimport InputRange from \"react-input-range\";\nimport defaultClassNames from \"../../default-class-names\";\nimport { Facet, priceValues, Value } from \"../../types\";\n\ninterface Props {\n  facet: Facet;\n  value: Value;\n  onPriceSelect: (v: priceValues) => void;\n}\n\nexport const RangeFilter: React.FC<Props> = ({ facet, value, onPriceSelect }) => {\n  const { name, type, values } = facet;\n  const [rangeValue, setRangeValue] = useState({ min: 150, max: 400 });\n  return (\n    <>\n      {facet.type === \"range\" &&\n        <div className=\"facet__option\" key={value.value}>\n          <section className=\"range-slider\">\n            <InputRange\n              classNames={defaultClassNames}\n              formatLabel={value => `$${value}`}\n              minValue={+value.value.split('_')[0]}\n              maxValue={+value.value.split('_')[1]}\n              value={rangeValue}\n              onChange={value => {\n                return typeof value !== \"number\" &&\n                  setRangeValue({ min: value.min, max: value.max })\n              }}\n            />\n          </section>\n          <button\n            type=\"button\"\n            className=\"facet__go-button\"\n            onClick={() => onPriceSelect(rangeValue)}\n          >\n            go\n          </button>\n        </div>}\n    </>\n  )\n}","import React from \"react\";\nimport classNames from \"classnames\";\nimport { Facet, selectedFacet, Value } from \"../../types\";\n\ninterface Props {\n  facet: Facet;\n  value: Value;\n  selectedFilters: selectedFacet[];\n  onMaterialSelect: (material: string) => void;\n}\n\nexport const TextFilter: React.FC<Props> = ({ facet, value, selectedFilters, onMaterialSelect }) => {\n  return (\n    <>\n      {facet.type === \"text\" &&\n        <div className=\"facet__option\">\n          <label className=\"facet__option-wrapper\">\n            <button\n              className={classNames(\"facet__box\",\n                { 'facet__box--selected': selectedFilters.find((facet) => facet.value === value.value) })}\n              onClick={() => {\n                onMaterialSelect(value.value);\n              }}\n            >\n            </button>\n            <div className=\"facet__value\">{value.value}</div>\n          </label>\n          <div className=\"facet__count\">({value.count})</div>\n        </div>\n      }\n    </>\n  )\n}","import React from \"react\";\nimport { Color, ColorStyle, Facet, ImageStyle, priceValues, selectedFacet, Value } from \"../../types\";\nimport { ColorFilter } from \"../ColorFilter/ColorFilter\";\nimport { RangeFilter } from \"../RangeFilter/RangeFilter\";\nimport { TextFilter } from \"../TextFilter/TextFilter\";\n\ninterface Props {\n  facet: Facet;\n  value: Value;\n  selectedFilters: selectedFacet[];\n  onMaterialSelect: (material: string) => void;\n  onColorSelect: (color: ColorStyle | ImageStyle) => void;\n  onPriceSelect: (v: priceValues) => void;\n  colorCodes: Color[];\n}\n\nexport const FilterTypes: React.FC<Props> = ({\n  facet,\n  value,\n  selectedFilters,\n  onMaterialSelect,\n  onColorSelect,\n  onPriceSelect,\n  colorCodes,\n}) => {\n  return (\n    <div>\n      {facet.type === 'text' && <TextFilter facet={facet} value={value} selectedFilters={selectedFilters} onMaterialSelect={onMaterialSelect} />}\n      {facet.type === 'color' && <ColorFilter facet={facet} value={value} selectedFilters={selectedFilters} onColorSelect={onColorSelect} colorCodes={colorCodes} />}\n      {facet.type === 'range' && <RangeFilter facet={facet} value={value} onPriceSelect={onPriceSelect} />}\n    </div>\n  )\n}","import React, { useState } from 'react'\nimport { Facet, ColorStyle, ImageStyle, Color, selectedFacet, priceValues } from '../../types'\nimport classNames from 'classnames'\nimport { FilterTypes } from '../FilterTypes/FilterTypes';\n\ninterface Props {\n  facet: Facet;\n  onMaterialSelect: (material: string) => void;\n  onColorSelect: (color: ColorStyle | ImageStyle) => void;\n  selectedFilters: selectedFacet[];\n  onPriceSelect: (v: priceValues) => void;\n  colorCodes: Color[];\n}\n\nexport const FacetBlock: React.FC<Props> = ({\n  onPriceSelect,\n  selectedFilters,\n  onColorSelect,\n  onMaterialSelect,\n  facet,\n  colorCodes,\n}) => {\n  const limitedItems = facet.values.slice(0, 6);\n\n  const [itemsToRender, setItemsToRender] = useState(limitedItems);\n  const [showMoreFilters, setShowMoreFilters] = useState(true);\n  const [showAllFilters, setShowAllFilters] = useState(false);\n  const [hidden, setHidden] = useState(false);\n  const [isExpanded, setIsExpanded] = useState(false);\n\n  const handleOpenButton = (): void => {\n    setHidden(false);\n    setShowMoreFilters(true);\n  }\n\n  const handleCloseButton = (): void => {\n    setShowAllFilters(false);\n    setHidden(true);\n    setShowMoreFilters(false);\n    setItemsToRender(limitedItems);\n    setIsExpanded(false);\n  }\n\n  const handleMoreButton = (): void => {\n    if (showMoreFilters) {\n      setShowAllFilters(true);\n      setShowMoreFilters(false);\n      setItemsToRender(facet.values);\n      setIsExpanded(true);\n    }\n    if (showAllFilters) {\n      setItemsToRender(limitedItems);\n      setIsExpanded(false);\n      setShowMoreFilters(true);\n      setShowAllFilters(false);\n    }\n  }\n\n  return (\n    <div className=\"facet\">\n      <div className=\"facet__wrapper\" key={facet.name}>\n        <label className=\"facet__head\">\n          <div className=\"facet__name\">{facet.name}</div>\n          {hidden ? (\n            <button\n              className=\"facet__button facet__button-open\"\n              onClick={handleOpenButton}\n            >\n            </button>\n          ) : (\n            <button\n              className=\"facet__button facet__button-close\"\n              onClick={handleCloseButton}\n            >\n            </button>\n          )}\n        </label>\n\n        {!hidden && (\n          <div className=\"facet__options\">\n            {itemsToRender.map(value => {\n              return (\n                <div key={value.value}>\n                  <FilterTypes\n                    facet={facet}\n                    value={value}\n                    selectedFilters={selectedFilters}\n                    onMaterialSelect={onMaterialSelect}\n                    onColorSelect={onColorSelect}\n                    onPriceSelect={onPriceSelect}\n                    colorCodes={colorCodes}\n                  />\n                </div>\n              )\n            })}\n            <div\n              className=\"facet__more-button\"\n              onClick={handleMoreButton}\n            >\n              <div className={classNames(\"facet__more-button-word\",\n                { \"facet__more-button-word--plus\": isExpanded === false }\n              )}>\n                {isExpanded ? \"Less\" : \"More\"}\n              </div>\n            </div>\n          </div>\n        )}\n      </div>\n    </div>\n  )\n}\n\nexport default FacetBlock\n\n","import React, { useEffect, useState } from 'react'\nimport { getColorCodes } from '../../api'\nimport { Color, ColorStyle, Facet, ImageStyle, priceValues, selectedFacet } from '../../types'\nimport FacetBlock from '../FacetBlock/FacetBlock'\n\n\ninterface Props {\n  facets: Facet[];\n  selectedFilters: selectedFacet[],\n  onMaterialSelect: (material: string) => void;\n  onColorSelect: (color: ColorStyle | ImageStyle) => void;\n  onPriceSelect: (v: priceValues) => void;\n}\n\nexport const Filters: React.FC<Props> = ({\n  selectedFilters,\n  facets,\n  onMaterialSelect,\n  onColorSelect,\n  onPriceSelect\n}) => {\n\n  const [colorCodes, setColorCodes] = useState<Color[]>([]);\n\n  useEffect(() => {\n    getColorCodes().then(loadedColors => {\n      setColorCodes(loadedColors);\n    })\n  }, [])\n\n  return (\n    <div>\n      {facets.map(facet =>\n        <FacetBlock\n          onPriceSelect={onPriceSelect}\n          selectedFilters={selectedFilters}\n          onColorSelect={onColorSelect}\n          onMaterialSelect={onMaterialSelect}\n          key={facet.name}\n          facet={facet}\n          colorCodes={colorCodes}\n        />\n      )}\n    </div>\n  )\n}\n\nexport default Filters\n","import React from 'react'\nimport { Item } from '../../types'\n\ninterface Props {\n  items: Item[];\n}\n\nexport const ProductsList: React.FC<Props> = ({ items }) => {\n  const getDiscount = (oldPrice: number, newPrice: number[]) => {\n    const discount = 100 - (newPrice[0]/ (oldPrice / 100));\n    return `${Math.round(discount)}% OFF`;\n  }\n  return (\n    <div className=\"ProductsList\">\n      <div className=\"ProductsList-container\">\n        <div className=\"ProductsList-wrapper\">\n          {items.map(item => (\n            <div key={item.product_url} className=\"ProductsList-card\">\n            <div className=\"ProductsList-card-wrapper\">\n              <a\n                href={item.product_url}\n                target=\"_blank\"\n                rel=\"noreferrer\"\n              >\n                <img src={item.image_url} alt=\"product\" className=\"ProductsList-card__image\"/>\n              </a>\n              {item.compare_at && (\n                <div>\n                  <div className=\"ProductsList-card__image-discount\">\n                    <div\n                      className=\"ProductsList-card__image-discount-number\"\n                    >\n                      {getDiscount(item.compare_at, item.price)}\n                    </div>\n                    <div className=\"ProductsList-card__image-discount-after\"></div>\n                  </div>\n                  <div className=\"ProductsList-card__image-sale\"></div>\n                </div>\n              )}\n            </div>\n              <a\n                href={item.product_url}\n                target=\"_blank\"\n                rel=\"noreferrer\"\n                className=\"ProductsList-card__title\">\n                  {item.title}\n              </a>\n              <div className=\"ProductsList-card__price-info\">\n                <div className=\"ProductsList-card__old-price\">{item.compare_at && `$ ${item.compare_at}`}</div>\n                <div className=\"ProductsList-card__new-price\">$ {item.price}</div>\n              </div>\n            </div>\n          ))}\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport default ProductsList\n","import React from 'react'\nimport { ColorStyle, ImageStyle, selectedFacet } from '../../types'\n\ninterface Props {\n  selectedFilters: selectedFacet[],\n  onMaterialSelect: (material: string) => void;\n  onColorSelect: (color: ColorStyle | ImageStyle) => void;\n  selectedPrice: string;\n  onPriceDelete: () => void;\n}\n\nexport const Breadcrumbs: React.FC<Props> = ({\n  onPriceDelete,\n  selectedPrice,\n  onMaterialSelect,\n  selectedFilters,\n  onColorSelect,\n}) => {\n  return (\n    <div className=\"Breadcrumbs\">\n      {selectedPrice.length > 0 && (\n        <div className=\"Breadcrumbs__piece\">\n        <label className=\"Breadcrumbs__facet\">\n          <div className=\"Breadcrumbs__name\">{selectedPrice}</div>\n          <button\n            className=\"Breadcrumbs__button\"\n            onClick={() => onPriceDelete()}\n          >\n          </button>\n        </label>\n        <div className=\"Breadcrumbs__slash\">/</div>\n      </div>\n      )}\n      {selectedFilters.map(filter => {\n        return (\n          <div\n            className=\"Breadcrumbs__piece-wrapper\"\n            key={typeof filter.value !== 'string' ? filter.value.id : filter.value}\n          >\n            {filter.type === 'material' &&\n            <div className=\"Breadcrumbs__piece\">\n              <label className=\"Breadcrumbs__facet\">\n                <div className=\"Breadcrumbs__name\">{filter.value}</div>\n                <button\n                  className=\"Breadcrumbs__button\"\n                  onClick={() => onMaterialSelect(filter.value as string)}\n                >\n                </button>\n              </label>\n              <div className=\"Breadcrumbs__slash\">/</div>\n            </div>\n\n            }\n            {filter.type === 'color' &&\n            <div className=\"Breadcrumbs__piece\">\n              <label className=\"Breadcrumbs__facet\">\n                <div\n                  style={typeof filter.value !== 'string' ? filter.value : {}}\n                  className=\"Breadcrumbs__color\"\n                >\n                </div>\n                <button\n                  className=\"Breadcrumbs__button\"\n                  onClick={() => onColorSelect(filter.value as ColorStyle | ImageStyle)}\n                >\n                </button>\n              </label>\n              <div className=\"Breadcrumbs__slash\">/</div>\n            </div>\n            }\n          </div>\n        )\n      })}\n    </div>\n  )\n}\n\nexport default Breadcrumbs","import React, { useState, useEffect } from 'react';\nimport './App.scss';\nimport './components/FacetBlock/FacetBlock.scss';\nimport './components/ProductList/ProductsList.scss';\nimport './components/Filters/Filters.scss';\nimport './components/Breadcrumbs/Breadcrumbs.scss';\nimport 'react-input-range/lib/css/index.css';\n\nimport { getData } from './api';\nimport Filters from './components/Filters/Filters';\nimport ProductsList from './components/ProductList/ProductsList';\nimport Breadcrumbs from './components/Breadcrumbs/Breadcrumbs';\nimport { ColorStyle, ImageStyle, priceValues, selectedFacet } from './types';\n\nfunction App() {\n  const [ items, setItems ] = useState([]);\n  const [ facets, setFacets ] = useState([]);\n  const [ selectedFilters, setSelectedFilters ] = useState<selectedFacet[]>([]);\n  const [ selectedPrice, setSelectedPrice ] = useState('');\n\n  useEffect(() => {\n    getData().then(loadedItems => {\n      setItems(loadedItems.items);\n      setFacets(loadedItems.facets);\n    });\n  }, [])\n\n  const onMaterialSelect = (material: string) => {\n    if (selectedFilters.find(filter => filter.value === material)) {\n      setSelectedFilters([...selectedFilters].filter(filter => filter.value !== material));\n    } else {\n    setSelectedFilters([ ...selectedFilters, { type: 'material', value: material } ])\n    }\n  }\n\n  const onColorSelect = (color: ColorStyle | ImageStyle) => {\n    if (selectedFilters.find(filter => {\n      if (typeof filter.value !== 'string') {\n        return filter.value.id === color.id;\n      }\n    })) {\n      setSelectedFilters([...selectedFilters].filter(filter => {\n        if (typeof filter.value === 'string') {\n          return filter;\n        }\n        if (typeof filter.value !== 'string') {\n          return filter.value.id !== color.id;\n        }\n      }))\n    } else {\n       setSelectedFilters([ ...selectedFilters, { type: 'color', value: color } ]);\n    }\n  }\n\n  const onPriceSelect = (rangeValue: priceValues) => {\n    setSelectedPrice(`$${rangeValue.min} - $${rangeValue.max}`);\n  }\n\n  const onPriceDelete = () => {\n    setSelectedPrice('');\n  }\n\n  return (\n    <div className=\"App\">\n      <h1 className=\"App__heading\">Search results</h1>\n      <div className=\"Filters\">\n        <div className=\"Filters__section\">filters</div>\n        <div className=\"desktop-breadcrumbs\">\n          <Breadcrumbs\n            onPriceDelete={onPriceDelete}\n            selectedPrice={selectedPrice}\n            onColorSelect={onColorSelect}\n            onMaterialSelect={onMaterialSelect}\n            selectedFilters={selectedFilters}\n          />\n        </div>\n      </div>\n      <div className=\"App__main\">\n        <Filters\n          onPriceSelect={onPriceSelect}\n          selectedFilters={selectedFilters}\n          onColorSelect={onColorSelect}\n          onMaterialSelect={onMaterialSelect}\n          facets={facets}\n        />\n        {(selectedFilters.length > 0 || selectedPrice.length > 0)\n        && (\n        <div className=\"mobile-breadcrumbs\">\n          <Breadcrumbs\n            onPriceDelete={onPriceDelete}\n            selectedPrice={selectedPrice}\n            onColorSelect={onColorSelect}\n            onMaterialSelect={onMaterialSelect}\n            selectedFilters={selectedFilters}\n          />\n        </div>\n        )}\n        <ProductsList items={items}/>\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}